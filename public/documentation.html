<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>REST API</title>

		<style>
			body {
				line-height: 1.6;
			}

			pre {
				background-color: #f4f4f4;
				padding: 5px;
			}

			code {
				background-color: #f4f4f4;
				padding: 2px 5px;
				border-radius: 3px;
			}
		</style>

	</head>

	<body>
		<h1> myFlixVintage Movie API Documentation </h1>
		<h2> Information </h2>
		<p> The myFlixVintage Movie API is the server component of a full-stack Java-Script web application
			that provides access to a vintage-movie database.
			Built with the MERN stack (MongoDB, Express, React, Node.js), this API stores information of different
			movies, actors and directors together with users details and their preferences.
			The REST API will be accesed using common HTTP methods like GET and POST while (CRUD) will be used to
			retrieve data from the database and store that data
			in a non-relational way.
		</p>
		<p>
			Authorization is handled using a JSON Web Token (JWT). Once a user successfully logs in, the server 
			generates a JWT, which is then returned to the client. This token must be included in the Authorization 
			header of subsequent requests to authenticate the user and grant access to protected resources.
		</p>

		<h1>API Endpoints</h1>

		<h2>Movie related API Endpoints</h2>

		<h3>1. Get all the movies</h3>

		<p>
			<b>Url:</b> <code>/movies</code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON array holding a list of all movies with their information.
		</p>
		<pre><code>
[
{
"Title": "A Clockwork Orange",
"Description": "In a dystopic future Britain, a gang of delinquents indulge in ultra-violence until their leader is arrested and subjected to experimental conditioning.",
"Genre": {
	"Name": "Sci-Fi",
	"Description": "Science fiction dealing with futuristic concepts, dystopian societies, and moral questions."
},
"Director": {
	"Name": "Stanley Kubrick",
	"Bio": "Stanley Kubrick was an iconic American filmmaker known for his meticulous attention to detail and groundbreaking work in cinema, creating some of the most influential films of the 20th century.",
	"Birth": "1928",
	"Death": "1999"
},
"Actors": [
	{
		"_id": "6825ace1a63b87d5b023806c",
		"Name": "Malcolm McDowell",
		"Bio": "British actor known for intense performances and unique screen presence."
	},
	{
		"_id": "6825ace1a63b87d5b023806d",
		"Name": "Patrick Magee",
		"Bio": "Irish actor known for his work in theater and collaborations with Kubrick."
	},
	{
		"_id": "6825ace1a63b87d5b023806e",
		"Name": "Adrienne Corri",
		"Bio": "Scottish actress best known for her role in 'A Clockwork Orange'."
	}
],
"ImagePath": "a-clockwork-orange.png",
"id": "68235d99177da4e158d8537a" 
},
...                               
];                                   
</code></pre>


		<br>

		<h3> 2. Get movie by title </h3>

		<p>
			<b>Url:</b> <code>/movies/:title</code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object holding information of a specific movie.
		</p>
		<pre><code>
{
"Title": "Alien",
"Description": "A spaceship crew encounters a deadly alien life form after responding to a distress signal. As the creature hunts them down, they must fight for survival in the vast emptiness of space.",
"Genre": {
	"Name": "Sci-Fi",
	"Description": "Horror-infused science fiction focused on extraterrestrial life and survival."
},
"Director": {
	"Name": "Ridley Scott",
	"Bio": "British director known for atmospheric and visually striking films in multiple genres.",
	"Birth": "1937",
	"Death": null
},
"Actors": [
	{
		"_id": "6825bacd97ddd055c96ccb32",
		"Name": "Sigourney Weaver",
		"Bio": "American actress best known for her role as Ellen Ripley."
	},
	{
		"_id": "6825bacd97ddd055c96ccb33",
		"Name": "Tom Skerritt",
		"Bio": "Veteran actor who played Captain Dallas."
	},
	{
		"_id": "6825bacd97ddd055c96ccb34",
		"Name": "John Hurt",
		"Bio": "British actor who played Kane in the film."
	}
],
"ImagePath": "alien.png",
"id": "68235d99177da4e158d8537f"
}
		</code></pre>


		<br>

		<h3> 3. Get genre by description </h3>

		<p>
			<b>Url:</b> <code>/genres/:name</code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object containing information of a secific genre.
		</p>
		<pre><code>
{
"Name": "Drama",
"Description": "Crime drama focusing on power, corruption, and downfall of an anti-hero."
}
		</code></pre>

		<br>

		<h3> 4. Get information about a director </h3>

		<p>
			<b>Url:</b> <code>/directors/:name </code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object containing information of a specific director.
		</p>
		<pre><code>
{
"Name": "Ridley Scott",
"Bio": "British director known for atmospheric and visually striking films in multiple genres.",
"Birth": "1937",
"Death": null,
"Movies": [
	{
		"Title": "Blade Runner",
		"Release": "1982"
	},
	{
		"Title": "Alien",
		"Release": "1979"
	}
]
}
		</code></pre>

		<br>

		<h3> 5. Get information about an actor </h3>

		<p>
			<b>Url:</b> <code>/actors/:name </code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object containing information of a specific actor.
		</p>
		<pre><code>
{
"Name": "Harrison Ford",
"Bio": "Actor and producer, famous for Han Solo and Indiana Jones.",
"Movies": [
	{
		"Title": "Star Wars Episode IV",
		"Release": "1977"
	},
	{
		"Title": "Blade Runner",
		"Release": "1982"
	}
]
}
		</code></pre>
		<br>


		<h2>User related API Endpoints</h2>
		<br>

		<h3> 6. Register a new user </h3>

		<p>
			<b>Url:</b> <code>/users</code>
		</p>
		<p>
			<b>Method:</b> POST
		</p>
		<p>
			<b>Request data:</b> A JSON object containing user's details (Username, Password, Email, Birthday are required)
		</p>
		<pre><code>
{
	"Username": "User123",
	"Password": "Passw123",
	"Email": "user123@gmail.com",
	"Birthday": "1990-04-25",
	"City": "Berlin"
}
		</code></pre>
		<p>
			<b>Response data:</b> A JSON object containing the User information.
		</p>
		<pre><code>
{
	"Username": "User123",
	"Password": "$2b$10$zuhSTppuEAHVewiK9EToW.JDF/8Vv2B/gpAqDvZGu32X3ZBuob2Nm",
	"Email": "user123@gmail.com",
	"Birthday": "1990-04-25T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [],
	"ToWatch": [],
	"_id": "682499ffcb4a4162090eec7c",
	"__v": 0
}
		</code></pre>
		<br>

		<h3> 7. Login a new user </h3>

		<p>
			<b>Url:</b> <code>/login</code>
		</p>
		<p>
			<b>Method:</b> POST
		</p>
		<p>
			<b>Request data:</b> 
		</p>
		<p>
			<b>Response data:</b> A JSON object containing the User information with a token. The token will be used for authorization (Bearer Token)
		</p>
		<pre><code>
{
    "User": {
        "_id": "6836b4ff8d505567d70471d0",
        "Username": "User2567",
        "Password": "$2b$10$zuhSTppuEAHVewiK9EToW.JDF/8Vv2B/gpAqDvZGu32X3ZBuob2Nm",
        "Email": "us1234@gmail.com",
        "Birthday": "1990-04-25T00:00:00.000Z",
        "City": "Berlin",
        "FavoriteMovies": [],
        "ToWatch": [],
        "__v": 0
    },
    "Token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2ODM2YjRmZjhkNTA1NTY3ZDcwNDcxZDAiLCJVc2VybmFtZSI6IlVzZXIyNTY3IiwiUGFzc3dvcmQiOiIkMmIkMTAkenVoU1RwcHVFQUhWZXdpSzlFVG9XLkpERi84VnYyQi9ncEFxRHZaR3UzMlgzWkJ1b2IyTm0iLCJFbWFpbCI6InVzMTIzNEBnbWFpbC5jb20iLCJCaXJ0aGRheSI6IjE5OTAtMDQtMjVUMDA6MDA6MDAuMDAwWiIsIkNpdHkiOiJCZXJsaW4iLCJGYXZvcml0ZU1vdmllcyI6W10sIlRvV2F0Y2giOltdLCJfX3YiOjAsImlhdCI6MTc0ODQxNTc3NiwiZXhwIjoxNzQ5MDIwNTc2LCJzdWIiOiJVc2VyMjU2NyJ9.TGq5iPyEGZf8UOn3UH7zyTcdCWj8AiZADF3-tNaX8D0"
}
		</code></pre>
		<br>

		<h3> 8. Get information about an user </h3>

		<p>
			<b>Url:</b> <code>/users/:username </code>
		</p>
		<p>
			<b>Method:</b> GET
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object containing information of a user.
		</p>
		<pre><code>
			{
    "_id": "6830342ca2d5f93168d41bbf",
    "Username": "test001",
    "Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9.",
    "Email": "test001@gmail.com",
    "Birthday": "2000-02-02T00:00:00.000Z",
    "FavoriteMovies": [
        "68235d99177da4e158d8537a"
    ],
    "ToWatch": [],
    "__v": 0
}
		</code></pre>
		<br>

		<h3> 9. Update user information</h3>

		<p>
			<b>Url:</b> <code>/users/:username/</code>
		</p>
		<p>
			<b>Method:</b> PUT
		</p>
		<p>
			<b>Request data:</b> A JSON object containing one or more fields to update.
		</p>
		<pre><code>
{
	"Username": "User123",
	"Password": "Userpassword",
	"Email": "user@gmail.com",
	"Birthday": "1990-04-25",
	"City": "Paris"
}
		</code></pre>
		<p>
			<b>Response data:</b> A JSON object containing the new user information.
		</p>
		<pre><code>
{
"message": "User updated successfully",
"user": {
	"_id": "68243dbad838410c3ffecfcf",
	"Username": "Robs3",
	"Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9",
	"Email": "robs@gmail.com",
	"Birthdate": "1983-11-07T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [
		"68235d99177da4e158d85383",
		"68235d99177da4e158d8537a",
		"68235d99177da4e158d85382"
	],
	"ToWatch": [
		"68235d99177da4e158d8537d"
	],
	"Birthday": "1993-04-25T00:00:00.000Z"
}
}
		</code></pre>
		<br>

		<h3> 10. Delete user </h3>

		<p>
			<b>Url:</b> <code>/users/:username </code>
		</p>
		<p>
			<b>Method:</b> DELETE
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A response indicating that user has been deleted.
		</p>
		<br>

		<h3> 11. Add movie to favorites list </h3>

		<p>
			<b>Url:</b> <code>/users/:username/favorites/:movie_id</code>
		</p>
		<p>
			<b>Method:</b> POST
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object with the user information updated.
		</p>
		<pre><code>
{
"Message": "The movie has been added",
"User": {
	"_id": "68243dbad838410c3ffecfcf",
	"Username": "Robs3",
	"Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9",
	"Email": "robs@gmail.com",
	"Birthdate": "1983-11-07T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [
		"68235d99177da4e158d85383",
		"68235d99177da4e158d85382",
		"68235d99177da4e158d8537a"
	],
	"ToWatch": [
		"68235d99177da4e158d8537d",
		"68235d99177da4e158d8537a"
	],
	"Birthday": "1993-04-25T00:00:00.000Z"
}
}
		</code></pre>
		<br>

		<h3> 12. Remove movie from favorites list </h3>

		<p>
			<b>Url:</b> <code>/users/:username/favorites/:movie_id</code>
		</p>
		<p>
			<b>Method:</b> DELETE
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object with the user information updated
		</p>
		<pre><code>
{
"Message": "The movie has been removed",
"User": {
	"_id": "68243dbad838410c3ffecfcf",
	"Username": "Robs3",
	"Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9",
	"Email": "robs@gmail.com",
	"Birthdate": "1983-11-07T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [
		"68235d99177da4e158d85383",
		"68235d99177da4e158d85382"
	],
	"ToWatch": [
		"68235d99177da4e158d8537d"
	],
	"Birthday": "1993-04-25T00:00:00.000Z"
}
}
		</code></pre>
		<br>


		<h3> 13. Add movie to To Watch list </h3>

		<p>
			<b>Url:</b> <code>/users/:username/towatch/:movie_id</code>
		</p>
		<p>
			<b>Method:</b> POST
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object with the user information updated.
		</p>
		<pre><code>
{
"Message": "The movie has been added",
"User": {
	"_id": "68243dbad838410c3ffecfcf",
	"Username": "Robs3",
	"Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9",
	"Email": "robs@gmail.com",
	"Birthdate": "1983-11-07T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [
		"68235d99177da4e158d85383",
		"68235d99177da4e158d85382"
	],
	"ToWatch": [
		"68235d99177da4e158d8537d",
		"68235d99177da4e158d8537a"
	],
	"Birthday": "1993-04-25T00:00:00.000Z"
}
}
		</code></pre>
		<br>


		<h3> 14. Remove movie from To Watch list </h3>

		<p>
			<b>Url:</b> <code>/users/:username/towatch/:movie_id</code>
		</p>
		<p>
			<b>Method:</b> DELETE
		</p>
		<p>
			<b>Request data:</b> None
		</p>
		<p>
			<b>Response data:</b> A JSON object with the user information updated.
		</p>
		<pre><code>
{
"Message": "The movie has been removed",
"User": {
	"_id": "68243dbad838410c3ffecfcf",
	"Username": "Robs3",
	"Password": "$2b$10$MyVU91O3hhg031DcYP.KBe7.ts673HUNv4R/qz3tO4dYqZ8TsIJ9",
	"Email": "robs@gmail.com",
	"Birthdate": "1983-11-07T00:00:00.000Z",
	"City": "Berlin",
	"FavoriteMovies": [
		"68235d99177da4e158d85383",
		"68235d99177da4e158d85382"
	],
	"ToWatch": [
		"68235d99177da4e158d8537d"
	],
	"Birthday": "1993-04-25T00:00:00.000Z"
}
}
		</code></pre>
		<br>


	</body>

</html>